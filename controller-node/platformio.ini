; PlatformIO Project Configuration - Controller Node
; ESP32-S3: IR control, thermostat logic, and web UI

[env:esp32-s3-devkitc-1]
platform = espressif32
board = esp32-s3-devkitc-1
framework = arduino
monitor_speed = 115200

; ESP32-S3 USB CDC configuration for serial monitor via native USB
build_flags =
    -DCORE_DEBUG_LEVEL=3
    -DARDUINO_USB_CDC_ON_BOOT=1
    -DARDUINO_USB_MODE=1

board_build.filesystem = littlefs
board_build.flash_mode = qio
board_build.f_flash = 80000000L

lib_deps =
    knolleary/PubSubClient@^2.8
    crankyoldgit/IRremoteESP8266@^2.8.6
    bblanchon/ArduinoJson@^6.21.3
    https://github.com/tzapu/WiFiManager.git#v2.0.17
    mathieucarbou/ESPAsyncWebServer@^3.4.5
    ArduinoOTA

; OTA upload configuration
; For OTA: set upload_protocol and upload_port, then set OTA password via environment:
;   export PLATFORMIO_UPLOAD_FLAGS="--auth=YOUR_OTA_PASSWORD"
; Or uncomment and edit the upload_flags line below (but don't commit your password!)
upload_protocol = espota
; upload_port = 192.168.0.118  ; Set to your controller's IP address
; upload_flags = --auth=YOUR_OTA_PASSWORD
